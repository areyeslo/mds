# Load vendor tracer
opentracing_load_tracer /opt/app-root/modules/libjaegertracing_plugin.so 
                        /etc/jaeger/nginx-jaeger-config.json;

# Enable tracing for all requests
opentracing on;

# Set additional tags that capture the value of NGINX variables
opentracing_tag bytes_sent $bytes_sent;
opentracing_tag http_user_agent $http_user_agent;
opentracing_tag request_time $request_time;
opentracing_tag upstream_addr $upstream_addr;
opentracing_tag upstream_bytes_received $upstream_bytes_received;
opentracing_tag upstream_cache_status $upstream_cache_status;
opentracing_tag upstream_connect_time $upstream_connect_time;
opentracing_tag upstream_header_time $upstream_header_time;
opentracing_tag upstream_queue_time $upstream_queue_time;
opentracing_tag upstream_response_time $upstream_response_time;
